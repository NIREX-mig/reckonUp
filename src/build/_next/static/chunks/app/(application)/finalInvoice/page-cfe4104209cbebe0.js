(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{6553:function(e,t,s){Promise.resolve().then(s.bind(s,2544))},2544:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var n=s(7437),r=s(434),l=s(9212),c=s.n(l),a=s(6648),i=s(2265),o=s(3580),d=()=>{var e,t,s;let{ref:l,fullInvoiceData:d}=(0,i.useContext)(r.Z),[u,h]=(0,i.useState)(),[x,m]=(0,i.useState)();return(0,i.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/setting/getlogo",{method:"GET",credentials:"include"}),t=await e.blob(),s=URL.createObjectURL(t);m(s)}catch(e){o.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}};(async()=>{try{let e=await fetch("http://localhost:8000/api/v1/setting/",{method:"GET",credentials:"include"}),t=await e.json();if(!t.success)return;h(t.data)}catch(e){o.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}})(),e()},[]),(0,n.jsxs)("div",{ref:l,className:"max-w-4xl mx-auto p-10 bg-white  text-zinc-900 rounded-lg ",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-10",children:[(0,n.jsx)(a.default,{src:x,alt:"Logo",width:300,height:100}),(0,n.jsxs)("div",{className:"text-right text-wrap w-[23rem]",children:[(0,n.jsx)("h2",{className:"font-bold text-green-600 mb-2",children:"SHOP DETAILS:"}),(0,n.jsx)("p",{className:"capitalize",children:null==u?void 0:u.ownerName}),(0,n.jsx)("p",{className:"capitalize",children:null==u?void 0:u.address}),(0,n.jsx)("p",{children:"+91 ".concat(null==u?void 0:u.mobileNumber,", +91 ").concat(null==u?void 0:u.whatsappNumber)})]})]}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"".concat((null==d?void 0:d.GST)?"Tex Invoice":"Invoice")}),(0,n.jsxs)("p",{children:["Invoice No.: ",null==d?void 0:d.invoiceNo]}),(0,n.jsxs)("p",{children:["Date : ",c()(null==d?void 0:d.createdAt).format("Do MMM YYYY")]}),(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("p",{className:"font-bold",children:"Exchange Details:"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"category : "}),(0,n.jsx)("span",{children:(null==d?void 0:d.exchangeCategory)==="select"?"N/A":null==d?void 0:d.exchangeCategory})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"percentage : "}),(0,n.jsx)("span",{children:"".concat((null==d?void 0:d.exchangePercentage)===null?"N/A":"".concat(null==d?void 0:d.exchangePercentage,"%"))})]})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("h2",{className:"font-bold text-green-600 mb-2",children:"BILL TO:"}),(0,n.jsx)("p",{className:"capitalize",children:null==d?void 0:d.customerName}),(0,n.jsx)("p",{className:"capitalize",children:null==d?void 0:d.customerAddress}),(0,n.jsx)("p",{children:null==d?void 0:d.customerPhone})]})]})}),(0,n.jsxs)("table",{className:"w-full mb-8",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b",children:[(0,n.jsx)("th",{className:"text-center text-green-600",children:"SNo"}),(0,n.jsx)("th",{className:"text-center w-[12rem] text-green-600",children:"Product Name"}),(0,n.jsx)("th",{className:"text-center text-green-600",children:"Category"}),(0,n.jsx)("th",{className:"text-center text-green-600",children:"Weight (g)"}),(0,n.jsx)("th",{className:"text-center text-green-600",children:"Quantity"}),(0,n.jsx)("th",{className:"text-center text-green-600",children:"Rate"}),(0,n.jsx)("th",{className:"text-center text-green-600 w-[8rem]",children:"Total"})]})}),(0,n.jsx)("tbody",{className:"[&>*:nth-child(even)]:bg-green-200",children:null==d?void 0:d.productList.map((e,t)=>(0,n.jsxs)("tr",{className:"border-b ",children:[(0,n.jsx)("td",{className:"text-center",children:t+1}),(0,n.jsx)("td",{className:"text-center",children:e.productName}),(0,n.jsx)("td",{className:"text-center",children:e.category}),(0,n.jsx)("td",{className:"text-center",children:e.netWeight}),(0,n.jsx)("td",{className:"text-center",children:e.quantity}),(0,n.jsx)("td",{className:"text-center",children:e.rate}),(0,n.jsx)("td",{className:"text-center",children:"₹ ".concat(e.amount)})]},t))})]}),(0,n.jsxs)("div",{className:"flex ".concat((null==d?void 0:d.GST)?"justify-between":"justify-end"," mb-4"),children:[(null==d?void 0:d.GST)&&(0,n.jsxs)("div",{className:"w-1/6",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"CGST(%):"}),(0,n.jsx)("span",{children:"".concat(null==d?void 0:d.cgst,"%")})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"SGST(%):"}),(0,n.jsx)("span",{children:"".concat(null==d?void 0:d.sgst,"%")})]}),(0,n.jsxs)("div",{className:"flex justify-between font-bold border-t border-zinc-300 mt-2 pt-2",children:[(0,n.jsx)("span",{children:"Total GST:"}),(0,n.jsx)("span",{children:"".concat((null==d?void 0:d.cgst)+(null==d?void 0:d.sgst),"%")})]})]}),(0,n.jsxs)("div",{className:"w-1/3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Subtotal :"}),(0,n.jsx)("span",{children:"₹ ".concat(null===(e=Number(null==d?void 0:d.grossAmt))||void 0===e?void 0:e.toFixed(2))})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Making Cost(%) :"}),(0,n.jsx)("span",{children:"".concat(null==d?void 0:d.makingCost,"%")})]}),(null==d?void 0:d.GST)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"GST(%) :"}),(0,n.jsx)("span",{children:"".concat((null==d?void 0:d.cgst)+(null==d?void 0:d.sgst),"%")})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"GST Amt:"}),(0,n.jsx)("span",{children:"₹ ".concat(null==d?void 0:null===(t=d.gstAmt)||void 0===t?void 0:t.toFixed(2))})]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Exchange Amt :"}),(0,n.jsx)("span",{children:"₹ ".concat(null==d?void 0:d.exchangeAmt)})]}),(0,n.jsxs)("div",{className:"flex justify-between font-bold border-t border-zinc-300 mt-2 pt-2",children:[(0,n.jsx)("span",{children:"Total:"}),(0,n.jsx)("span",{children:" ₹ ".concat(null==d?void 0:null===(s=d.netAmt)||void 0===s?void 0:s.toFixed(2))})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"mb-8 w-1/3",children:(0,n.jsx)("p",{children:"Note :"})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-gray-400",children:"Signature"}),(0,n.jsx)("p",{className:"border-t w-40"})]}),(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"text-gray-400",children:"MM / DD / YYYY"})})]})]}),(0,n.jsx)("div",{className:"bg-green-600 text-center py-1 mt-3 capitalize",children:"THANK YOU FOR YOU BUSINESS WITH US!"})]})},u=s(6463),h=s(3872);function x(){let{handlePrint:e,fullInvoiceData:t}=(0,i.useContext)(r.Z),s=(0,u.useRouter)(),[l,c]=(0,i.useState)(!1),a=async()=>{if(t.newInvoice)try{c(!0);let n=await fetch("http://localhost:8000/api/v1/invoice/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(r.success){c(!1),o.Am.success(r.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),setTimeout(()=>{e(),s.back()},1e3);return}c(!1),o.Am.error("something Went Wrong, please download Invoice",{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}catch(e){c(!1),o.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}e(),s.back()};return(0,n.jsxs)("div",{className:" bg-gray-100 rounded-lg p-6 mx-auto",children:[(0,n.jsxs)("div",{className:"w-full bg-gray-100 h-48 flex flex-col gap-2 justify-center items-center mb-8",children:[(0,n.jsx)("div",{className:"w-20 h-20 p-7 rounded-full bg-green-100 flex justify-center items-center",children:(0,n.jsx)(h.m$D,{size:30,className:"fill-green-600"})}),(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Your Invoice is Ready "}),(0,n.jsx)("p",{className:"text-gray-500 mb-5",children:"Print the invoice or save in system"}),(0,n.jsxs)("div",{className:"flex gap-10",children:[(0,n.jsx)("button",{type:"button",onClick:a,disabled:l,className:"text-black border border-black bg-white active:bg-black active:text-white rounded-lg font-bold px-6 py-2.5 text-center ",children:"Print Invoice"}),(0,n.jsx)("button",{type:"button",onClick:()=>s.back(),className:"text-white bg-red-600 hover:bg-red-700 rounded-lg px-6 py-2.5 text-center ",children:"Cancle Invoice"})]})]}),(0,n.jsx)("div",{className:" w-full overflow-auto",children:(0,n.jsx)(d,{})})]})}},434:function(e,t,s){"use strict";let n=(0,s(2265).createContext)();t.Z=n},6463:function(e,t,s){"use strict";var n=s(1169);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},291:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=s(9920)._(s(2265)).default.createContext(null)},1810:function(e,t,s){"use strict";s.d(t,{w_:function(){return d}});var n=s(2265),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(r),c=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>n.createElement(u,a({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,s)=>n.createElement(t.tag,o({key:s},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var s,{attr:r,size:l,title:i}=e,d=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,c),u=l||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),n.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:s,style:o(o({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==l?n.createElement(l.Consumer,null,e=>t(e)):t(r)}}},function(e){e.O(0,[990,240,580,648,971,23,744],function(){return e(e.s=6553)}),_N_E=e.O()}]);