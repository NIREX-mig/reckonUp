(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{4840:function(e,t,s){Promise.resolve().then(s.bind(s,1703))},1703:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var o=s(7437),r=s(354),a=s(4942),n=s(434),c=s(6463),l=s(2265),i=s(3580);function d(){let{showDataModal:e}=(0,l.useContext)(n.Z),t=(0,c.useRouter)(),[s,d]=(0,l.useState)({start:"",end:""}),[u,m]=(0,l.useState)("invoiceNo"),[b,g]=(0,l.useState)(""),[h,p]=(0,l.useState)([]);(0,l.useEffect)(()=>{g("")},[t,u]);let x=async e=>{e.preventDefault();try{let e=await fetch("http://localhost:8000/api/v1/invoice/bydate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({startingDate:s.start,endingDate:s.end})}),t=await e.json();t.success&&p(t.data)}catch(e){i.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}},f=e=>{let t=e.target.name,o=e.target.value;d({...s,[t]:o})},v=async e=>{e.preventDefault();try{let e=await fetch("http://localhost:8000/api/v1/invoice/".concat("invoiceNo"===u?"invoiceNo":"customerName"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify("invoiceNo"===u?{invoiceNo:b}:{customerName:b})}),t=await e.json();t.success?p(t.data):i.Am.error(t.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}catch(e){i.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}};return(0,o.jsxs)("section",{className:"bg-white p-4 m-4 rounded-lg border border-gray-200 shadow-md",children:[e&&(0,o.jsx)(r.Z,{}),(0,o.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Search Invoice"}),(0,o.jsxs)("div",{className:"rounded-lg bg-white",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsxs)("form",{onSubmit:x,className:"max-w-sm p-4 flex gap-2",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{children:(0,o.jsx)("input",{name:"start",type:"date",value:s.start,className:"focus:ring-black focus:border-black bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md block w-full ps-2 p-1.5",onChange:f,required:!0})}),(0,o.jsx)("span",{className:"mx-4 text-black font-bold",children:"to"}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)("input",{name:"end",type:"date",value:s.end,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-black focus:border-black block w-full ps-2 p-1.5",onChange:f,required:!0})})]}),(0,o.jsx)("button",{type:"submit",className:"text-white bg-black/90 hover:bg-black focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-1.5 text-center",children:"Fetch"}),(0,o.jsx)("button",{type:"button",onClick:e=>{d({start:"",end:""})},className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-1.5 text-center",children:"Reset"})]}),(0,o.jsxs)("form",{onSubmit:v,className:" p-4 flex gap-2",children:[(0,o.jsxs)("select",{id:"search",className:"bg-gray-50 border border-gray-600 text-gray-900 text-sm rounded-md focus:ring-black focus:border-black block w-30 p-1.5 px-2",value:u,onChange:e=>{m(e.target.value)},children:[(0,o.jsx)("option",{defaultValue:"invoiceNo",children:"invoiceNo"}),(0,o.jsx)("option",{value:"customerName",children:"Customer Name"})]}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{name:"search",type:"text",className:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-md focus:ring-black focus:border-black block w-52 p-1.5 placeholder:px-1",placeholder:"Search",value:b,onChange:e=>{g(e.target.value)},required:!0})}),(0,o.jsx)("button",{type:"submit",className:"text-white bg-black/90 hover:bg-black focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-1.5 text-center",children:"Fetch"})]})]}),(0,o.jsx)("hr",{}),(0,o.jsx)(a.Z,{invoices:h})]})]})}}},function(e){e.O(0,[990,580,291,993,971,23,744],function(){return e(e.s=4840)}),_N_E=e.O()}]);