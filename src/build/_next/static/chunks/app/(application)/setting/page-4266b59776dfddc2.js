(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[202],{2054:function(e,t,r){Promise.resolve().then(r.bind(r,2585))},2585:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(7437),a=r(6648),o=r(2265),l=r(3580);r(4193);var n=()=>{let[e,t]=(0,o.useState)(!1),[r,n]=(0,o.useState)(),[c,i]=(0,o.useState)();return(0,o.useEffect)(()=>{if(!r){n(void 0);return}let e=URL.createObjectURL(r);return console.log(e),i(e),()=>URL.revokeObjectURL(e)},[r]),(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:8000/api/v1/setting/getlogo",{method:"GET",credentials:"include"}),r=await e.blob(),s=URL.createObjectURL(r);i(s),t(!0)}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}})()},[]),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center w-full",children:(0,s.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-52 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50  hover:bg-gray-100 ",children:[e?(0,s.jsx)(a.default,{src:c,alt:"Shop logo",width:300,height:100,className:"w-auto h-auto"}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,s.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,s.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,s.jsx)("span",{className:" ",children:"Click to upload"})," or drag and drop"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG (MAX. 300x100px)"})]}),(0,s.jsx)("input",{id:"dropzone-file",accept:"image/*",type:"file",className:"hidden",onChange:e=>{if(!e.target.files||0===e.target.files.length){n(void 0);return}n(e.target.files[0]),(async e=>{let t=new FormData;t.append("invoiceLogo",e);try{let e=await fetch("http://localhost:8000/api/v1/setting/logoupdate",{method:"PATCH",credentials:"include",body:t}),r=await e.json();r.success?l.Am.success(r.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}):l.Am.error(r.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}})(e.target.files[0]),t(!0)},name:"invoiceLogo"})]})})},c=()=>(0,s.jsx)("div",{className:"loader mx-auto"}),i=r(6463);function d(){let[e,t]=(0,o.useState)({ownerName:"",mobileNumber:"",whatsappNumber:"",address:"",GSTNO:""}),r=(0,i.useRouter)(),[a,d]=(0,o.useState)(!1),[m,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:8000/api/v1/setting/",{method:"GET",credentials:"include"}),r=await e.json();r.success&&t(r.data)}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}})()},[r]);let h=async t=>{t.preventDefault(),u(!0),d(!0);try{let t=await fetch("http://localhost:8000/api/v1/setting/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerName:e.ownerName,mobileNumber:e.mobileNumber,whatsappNumber:e.whatsappNumber,address:e.address,GSTNO:e.GSTNO})}),r=await t.json();r.success?(u(!1),d(!1),l.Am.success(r.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})):(l.Am.error(r.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),u(!1),d(!1))}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}},b=r=>{let s=r.target.name,a=r.target.value;t({...e,[s]:a})};return(0,s.jsxs)("section",{className:"bg-white p-4 m-4 rounded-lg border border-gray-200 ",children:[(0,s.jsx)("h2",{className:"font-bold text-xl",children:"Setting"}),(0,s.jsxs)("div",{className:" border shadow-md w-[50%] p-3 rounded-lg mt-4",children:[(0,s.jsx)("h3",{className:"  text-xl ",children:"Shop Detail :-"}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:" w-[20rem]",children:[(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("label",{htmlFor:"ownerName",className:"text-sm font-medium text-gray-900",children:"Shop Logo:"}),(0,s.jsx)(n,{})]}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[(0,s.jsx)("label",{htmlFor:"ownerName",className:"text-sm font-medium text-gray-900",children:"Owner Name:"}),(0,s.jsx)("input",{type:"text",name:"ownerName",id:"ownerName",value:e.ownerName,onChange:b,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block py-1.5 px-2",placeholder:"Owner Name",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[(0,s.jsx)("label",{htmlFor:"mobileNumber",className:"text-sm font-medium text-gray-900",children:"Mobile Number:"}),(0,s.jsx)("input",{type:"number",name:"mobileNumber",id:"mobileNumber",value:e.mobileNumber,onChange:b,min:"0",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block py-1.5 px-2",placeholder:"Mobile Number",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[(0,s.jsx)("label",{htmlFor:"whatsappNumber",className:"text-sm font-medium text-gray-900",children:"Whatsapp Number:"}),(0,s.jsx)("input",{type:"number",name:"whatsappNumber",id:"whatsappNumber",value:e.whatsappNumber,onChange:b,min:"0",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block py-1.5 px-2",placeholder:"Whatsapp Number",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[(0,s.jsx)("label",{htmlFor:"GSTNO",className:"text-sm font-medium text-gray-900",children:"GSTNO:"}),(0,s.jsx)("input",{type:"text",name:"GSTNO",id:"GSTNO",value:e.GSTNO,onChange:b,min:"0",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block py-1.5 px-2 w-[15rem]",placeholder:"GSTNO",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"address",className:"block mb-2 text-sm font-medium text-gray-900",children:"Address"}),(0,s.jsx)("textarea",{name:"address",id:"address",value:e.address,onChange:b,rows:"4",className:"block w-full p-2.5 text-sm text-gray-900 bg-gray-50 rounded-md border border-gray-300 focus:ring-black focus:border-black",placeholder:"Enter Shop Address"})]}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"disabled:bg-gray-800 text-white bg-black/90 hover:bg-black focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center mt-5",children:a?(0,s.jsx)(c,{}):"Update Setting"})]})]})})]})]})}},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(9920)._(r(2265)).default.createContext(null)},4193:function(){}},function(e){e.O(0,[582,580,648,971,23,744],function(){return e(e.s=2054)}),_N_E=e.O()}]);