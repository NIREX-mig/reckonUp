(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{4945:function(e,s,t){Promise.resolve().then(t.bind(t,4653))},4653:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(7437),a=t(6648),o=t(2265),l=t(3580);t(4193);var n=()=>{let[e,s]=(0,o.useState)(!1),[t,n]=(0,o.useState)(),[c,i]=(0,o.useState)();return(0,o.useEffect)(()=>{if(!t){n(void 0);return}let e=URL.createObjectURL(t);return console.log(e),i(e),()=>URL.revokeObjectURL(e)},[t]),(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:8000/api/v1/setting/getlogo",{method:"GET"}),t=await e.blob(),r=URL.createObjectURL(t);i(r),s(!0)}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}})()},[]),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center w-full",children:(0,r.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-52 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50  hover:bg-gray-100 ",children:[e?(0,r.jsx)(a.default,{src:c,alt:"Shop logo",width:300,height:100}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,r.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,r.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,r.jsx)("span",{className:" ",children:"Click to upload"})," or drag and drop"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG (MAX. 300x100px)"})]}),(0,r.jsx)("input",{id:"dropzone-file",accept:"image/*",type:"file",className:"hidden",onChange:e=>{if(!e.target.files||0===e.target.files.length){n(void 0);return}n(e.target.files[0]),(async e=>{let s=new FormData;s.append("invoiceLogo",e);try{let e=await fetch("http://localhost:8000/api/v1/setting/logoupdate",{method:"PATCH",body:s}),t=await e.json();t.success?l.Am.success(t.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}):l.Am.error(t.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}})(e.target.files[0]),s(!0)},name:"invoiceLogo"})]})})},c=()=>(0,r.jsx)("div",{className:"loader mx-auto"}),i=t(6463);function d(){let[e,s]=(0,o.useState)({ownerName:"",mobileNumber:"",whatsappNumber:"",address:""}),t=(0,i.useRouter)(),[a,d]=(0,o.useState)(!1),[m,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{localStorage.getItem("accessToken")||t.push("/login"),(async()=>{try{let e=await fetch("http://localhost:8000/api/v1/setting/",{method:"GET"}),t=await e.json();t.success&&s(t.data)}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}})()},[t]);let g=async s=>{s.preventDefault(),u(!0),d(!0);try{let s=await fetch("http://localhost:8000/api/v1/setting/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerName:e.ownerName,mobileNumber:e.mobileNumber,whatsappNumber:e.whatsappNumber,address:e.address})}),t=await s.json();t.success?(u(!1),d(!1),l.Am.success(t.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})):(l.Am.error(t.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),u(!1),d(!1))}catch(e){l.Am.error(e.message,{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}},h=t=>{let r=t.target.name,a=t.target.value;s({...e,[r]:a})};return(0,r.jsxs)("section",{className:"bg-white p-4 m-4 rounded-lg border border-gray-200 ",children:[(0,r.jsx)("h2",{className:"font-bold text-xl",children:"Setting"}),(0,r.jsxs)("div",{className:" border shadow-md w-[50%] p-3 rounded-lg mt-4",children:[(0,r.jsx)("h3",{className:"  text-xl ",children:"Shop Detail :-"}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:" w-[20rem]",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"ownerName",className:"text-sm font-medium text-gray-900",children:"Shop Logo :"}),(0,r.jsx)(n,{})]}),(0,r.jsxs)("form",{onSubmit:g,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[(0,r.jsx)("label",{htmlFor:"ownerName",className:"text-sm font-medium text-gray-900",children:"Owner Name :"}),(0,r.jsx)("input",{type:"text",name:"ownerName",id:"ownerName",value:e.ownerName,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block py-1.5 px-2",placeholder:"Owner Name",required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[(0,r.jsx)("label",{htmlFor:"mobileNumber",className:"text-sm font-medium text-gray-900",children:"Mobile Number :"}),(0,r.jsx)("input",{type:"number",name:"mobileNumber",id:"mobileNumber",value:e.mobileNumber,onChange:h,min:"0",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block py-1.5 px-2",placeholder:"Mobile Number",required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[(0,r.jsx)("label",{htmlFor:"whatsappNumber",className:"text-sm font-medium text-gray-900",children:"Whatsapp Number :"}),(0,r.jsx)("input",{type:"number",name:"whatsappNumber",id:"whatsappNumber",value:e.whatsappNumber,onChange:h,min:"0",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block py-1.5 px-2",placeholder:"Whatsapp Number",required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{htmlFor:"address",className:"block mb-2 text-sm font-medium text-gray-900",children:"Address"}),(0,r.jsx)("textarea",{name:"address",id:"address",value:e.address,onChange:h,rows:"4",className:"block w-full p-2.5 text-sm text-gray-900 bg-gray-50 rounded-md border border-gray-300 focus:ring-black focus:border-black",placeholder:"Enter Shop Address"})]}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"disabled:bg-gray-800 text-white bg-black/90 hover:bg-black focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center mt-5",children:a?(0,r.jsx)(c,{}):"Update Setting"})]})]})})]})]})}},4193:function(){}},function(e){e.O(0,[176,580,595,971,23,744],function(){return e(e.s=4945)}),_N_E=e.O()}]);